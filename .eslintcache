[{"C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\index.js":"1","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\services\\api.js":"2","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\store\\index.js":"3","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\store\\reducers\\index.js":"4","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\store\\reducers\\error.js":"5","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\store\\actionTypes.js":"6","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\store\\actions\\auth.js":"7","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\store\\actions\\index.js":"8","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\store\\actions\\error.js":"9","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\store\\reducers\\auth.js":"10","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\containers\\App.jsx":"11","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\components\\Auth.jsx":"12","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\components\\ErrorMessage.jsx":"13","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\containers\\RouteViews.jsx":"14","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\containers\\NavBar.jsx":"15","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\pages\\AuthPage.jsx":"16","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\store\\actions\\polls.js":"17","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\store\\reducers\\polls.js":"18","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\pages\\TestPage.jsx":"19","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\components\\Polls.jsx":"20","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\components\\Poll.jsx":"21","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\pages\\HomePage.jsx":"22","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\pages\\PollPage.jsx":"23","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\pages\\CreatePollPage.jsx":"24","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\components\\CreatePoll.jsx":"25"},{"size":473,"mtime":1610803735243,"results":"26","hashOfConfig":"27"},{"size":528,"mtime":1610805024441,"results":"28","hashOfConfig":"27"},{"size":496,"mtime":1610449168728,"results":"29","hashOfConfig":"27"},{"size":202,"mtime":1610448778756,"results":"30","hashOfConfig":"27"},{"size":329,"mtime":1610307248687,"results":"31","hashOfConfig":"27"},{"size":219,"mtime":1610447295041,"results":"32","hashOfConfig":"27"},{"size":949,"mtime":1610449170417,"results":"33","hashOfConfig":"27"},{"size":107,"mtime":1610448604312,"results":"34","hashOfConfig":"27"},{"size":200,"mtime":1610306010738,"results":"35","hashOfConfig":"27"},{"size":472,"mtime":1610458474124,"results":"36","hashOfConfig":"27"},{"size":1324,"mtime":1610731973407,"results":"37","hashOfConfig":"27"},{"size":3017,"mtime":1610798087585,"results":"38","hashOfConfig":"27"},{"size":380,"mtime":1610733299117,"results":"39","hashOfConfig":"27"},{"size":1558,"mtime":1610732763236,"results":"40","hashOfConfig":"27"},{"size":1178,"mtime":1610804731044,"results":"41","hashOfConfig":"27"},{"size":492,"mtime":1610632238925,"results":"42","hashOfConfig":"27"},{"size":2505,"mtime":1610804634536,"results":"43","hashOfConfig":"27"},{"size":461,"mtime":1610452372922,"results":"44","hashOfConfig":"27"},{"size":685,"mtime":1610625459052,"results":"45","hashOfConfig":"27"},{"size":3227,"mtime":1610794370724,"results":"46","hashOfConfig":"27"},{"size":3351,"mtime":1610795278438,"results":"47","hashOfConfig":"27"},{"size":252,"mtime":1610545417759,"results":"48","hashOfConfig":"27"},{"size":353,"mtime":1610714049977,"results":"49","hashOfConfig":"27"},{"size":406,"mtime":1610622917293,"results":"50","hashOfConfig":"27"},{"size":2250,"mtime":1610798207556,"results":"51","hashOfConfig":"27"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},"u9h5cj",{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"54"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"65"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"54"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"54"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"54"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"54"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"54"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"54"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"94","usedDeprecatedRules":"54"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"54"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104","usedDeprecatedRules":"54"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"107","usedDeprecatedRules":"54"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"110","usedDeprecatedRules":"54"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"113","usedDeprecatedRules":"54"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"116","usedDeprecatedRules":"54"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119","usedDeprecatedRules":"54"},"C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\index.js",[],["120","121"],"C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\services\\api.js",["122"],"import axios from 'axios';\r\n\r\nconst server=\"https://moogygapp.herokuapp.com/api\"\r\n\r\nexport const setToken = token => {\r\n  if (token) {\r\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n  } else {\r\n    delete axios.defaults.headers.common['Authorization'];\r\n  }\r\n};\r\n\r\nexport const call = async (method, path, data) => {\r\n  console.log(path)\r\n  const response = await axios[method](`${server}/${path}`, data);\r\n  console.log(response.err)\r\n  return response.data;\r\n};\r\n\r\nexport default { setToken, call };","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\store\\index.js",[],"C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\store\\reducers\\index.js",[],"C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\store\\reducers\\error.js",["123"],"  \r\nimport { ADD_ERROR, REMOVE_ERROR } from '../actionTypes';\r\n\r\nexport default (state = { message: null }, action) => {\r\n  switch (action.type) {\r\n    case ADD_ERROR:\r\n      return { ...state, message: action.error };\r\n    case REMOVE_ERROR:\r\n      return { ...state, message: null };\r\n    default:\r\n      return state;\r\n  }\r\n};",["124","125"],"C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\store\\actionTypes.js",[],"C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\store\\actions\\auth.js",[],"C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\store\\actions\\index.js",[],"C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\store\\actions\\error.js",[],"C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\store\\reducers\\auth.js",["126"],"import {SET_CURRENT_USER} from '../actionTypes'\r\n\r\nconst DEFAULT_STATE={\r\n    isAuthenticated:false,\r\n    user:{}\r\n}\r\n\r\nexport default (state=DEFAULT_STATE,action)=>{\r\n\r\n        \r\n    switch(action.type){\r\n\r\n        case SET_CURRENT_USER:\r\n            console.log(\"from Auth \"+action.user.username)\r\n        return {\r\n                isAuthenticated:!!Object.keys(action.user).length,\r\n                user:action.user,\r\n            }\r\n\r\n        default:return state;\r\n\r\n    }\r\n\r\n}","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\containers\\App.jsx",["127","128","129","130","131","132","133"],"import React,{Fragment, useEffect} from 'react'\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport {Provider, useDispatch} from 'react-redux'\nimport api from '../services/api'\nimport {store} from '../store'\nimport { addError, getCurrentPoll } from '../store/actions'\nimport { setCurrentUser,setToken } from '../store/actions'\nimport decode from 'jwt-decode'\nimport Auth from '../components/Auth'\nimport ErrorMessage from '../components/ErrorMessage'\nimport RouteViews from './RouteViews'\nimport NavBar from './NavBar'\nimport { useHistory } from \"react-router-dom\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n//import { useEffect } from 'react'\n//const dispatch=useDispatch();\nif(localStorage.getItem(\"jwtToken\")){\n  console.log(\"token \"+localStorage.getItem(\"jwtToken\"))\n\n  setToken(localStorage.getItem(\"jwtToken\"))\n  try {\n      console.log(Object(decode(localStorage.getItem(\"jwtToken\"))).length)\n  store.dispatch(setCurrentUser(decode(localStorage.getItem(\"jwtToken\"))))\n   \n    \n\n\n  } catch (err) {\n      store.dispatch(setCurrentUser({}))\n      store.dispatch(addError(err))\n  }\n\n}\n\n\nfunction App() {\n \n\n\n  return (<div  >\n    <Provider store={store}>\n          <Router>\n          <NavBar/>\n         <ErrorMessage/>\n    <RouteViews  />\n  </Router>\n\n  </Provider>\n  </div>\n  );\n}\n\nexport default App;\n","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\components\\Auth.jsx",["134","135","136","137","138","139","140"],"import React,{Fragment, useEffect, useState} from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {authUser} from '../store/actions'\r\nimport {Form,Button} from 'react-bootstrap'\r\nimport {Redirect} from 'react-router-dom' \r\nimport '../auth.css'\r\n\r\nfunction Auth({isAuthenticated,authType}) {\r\n\r\n    const [{username,password},updatedata]=useState({username:'',password:''});\r\n    \r\n    const dispatch=useDispatch();\r\n\r\n   function handleChange(event){\r\n            //console.log(event)\r\n                const { value, name } = event.target;\r\n        updatedata((data)=>{\r\n            console.log(\"the data  =\"+data)\r\n            if(name==='username'){\r\n                return {username:value,password:data.password}\r\n            }\r\n\r\n            else{\r\n                return{username:data.username,password:value}\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n\r\n   function handleSubmit(event){\r\n\r\n    event.preventDefault();\r\n    dispatch(authUser(authType,{username,password}))\r\n    console.log(username+\" \"+password)\r\n    }\r\n\r\n    const formStyle={\r\n        width:'500px',\r\n         display:'flex',\r\n         justifyContent:'center',\r\n          alignItems:'center',\r\n          margiTop:'80px',\r\n          backgroundColor: '#1b262c'\r\n          \r\n      }\r\n\r\nif(isAuthenticated)return <Redirect to='/'/>\r\n  return (\r\n\r\n<div class=\"overlay\">\r\n\r\n<form onSubmit={handleSubmit}>\r\n   <div className=\"con\">\r\n   <header className=\"head-form\">\r\n      <h2 style={{textTransform:'capitalize'}}>{authType}</h2>\r\n      <p style={{textTransform:'capitalize'}} style={{color:'#6b778d'}}>{authType} here using username and password</p>\r\n   </header>\r\n   <br/>\r\n   <div className=\"field-set\">\r\n     \r\n      \r\n      \r\n         <input onChange={handleChange} value={username} name='username' className=\"form-input\" id=\"txt-input\" type=\"text\" placeholder=\"@UserName\" required/>\r\n     \r\n      <br/>\r\n     \r\n      <input onChange={handleChange} className=\"form-input\" name='password' type=\"password\" placeholder=\"Password\" id=\"pwd\"  value={password} required/>\r\n \r\n     \r\n     \r\n      <br/>\r\n      <br/><br/><br/>\r\n      <button style={{textTransform:'capitalize'}} className=\"log-in\" type='submit'> {authType} </button>\r\n   </div>\r\n  </div>\r\n  \r\n</form>\r\n</div>\r\n        \r\n  );\r\n\r\n  \r\n//   <Form>\r\n//   <Form.Group controlId=\"formBasicEmail\">\r\n//     <Form.Label>Email address</Form.Label>\r\n//     <Form.Control type=\"email\" placeholder=\"Enter email\" />\r\n//     <Form.Text className=\"text-muted\">\r\n//       We'll never share your email with anyone else.\r\n//     </Form.Text>\r\n//   </Form.Group>\r\n\r\n//   <Form.Group controlId=\"formBasicPassword\">\r\n//     <Form.Label>Password</Form.Label>\r\n//     <Form.Control type=\"password\" placeholder=\"Password\" />\r\n//   </Form.Group>\r\n//   <Form.Group controlId=\"formBasicCheckbox\">\r\n//     <Form.Check type=\"checkbox\" label=\"Check me out\" />\r\n//   </Form.Group>\r\n//   <Button variant=\"primary\" type=\"submit\">\r\n//     Submit\r\n//   </Button>\r\n// </Form>\r\n}\r\n\r\nexport default Auth;\r\n","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\components\\ErrorMessage.jsx",["141"],"  \r\nimport React, { Fragment } from 'react';\r\nimport { connect, useSelector } from 'react-redux';\r\nimport '../auth.css'\r\n\r\nconst ErrorMessage = () => {\r\n\r\nconst error=useSelector(state=>state.error)\r\n\r\nconsole.log(error)\r\n  return (<Fragment >\r\n    {error&& <div className={error.message?'isa_error':''}>{error.message}</div>}\r\n  </Fragment>\r\n)};\r\n\r\nexport default (ErrorMessage);","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\containers\\RouteViews.jsx",["142","143"],"import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Switch, Route, withRouter } from 'react-router-dom';\r\n\r\nimport AuthPage from '../pages/AuthPage'\r\nimport TestPage from '../pages/TestPage'\r\nimport HomePage from '../pages/HomePage'\r\nimport { getCurrentPoll } from '../store/actions';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport PollPage from '../pages/PollPage';\r\nimport CreatePollPage from '../pages/CreatePollPage';\r\nfunction RouteViews(){\r\nconst dispatch=useDispatch();\r\n \r\n\r\nconsole.log(\"tf happened\")\r\nconst {isAuthenticated}=useSelector((state)=>{\r\n    console.log(\"state \"+state.error)\r\n    return state.auth\r\n})\r\n    return(<main  >\r\n           \r\n            <Switch>\r\n            <Route exact path='/'render={(props)=><HomePage {...props}/>}/>    \r\n            <Route path='/login' render={()=><AuthPage authType='login' isAuthenticated={isAuthenticated}/>}/>\r\n            <Route path='/register' render={()=><AuthPage authType='register' isAuthenticated={isAuthenticated}/>}/>\r\n            <Route exact path='/poll/new'render={()=><CreatePollPage isAuhenticated={isAuthenticated}/>}/>    \r\n            \r\n            <Route\r\n        exact\r\n        path=\"/poll/:id\"\r\n        render={props => (\r\n          <PollPage getPoll={id => dispatch(getCurrentPoll(id))} isAuthenticated={isAuthenticated} {...props} />\r\n        )}\r\n      />\r\n\r\n            <Route path='/test' render={()=><TestPage/>} />\r\n            </Switch>\r\n            \r\n        </main>\r\n    \r\n        )\r\n}\r\n\r\nexport default RouteViews;","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\containers\\NavBar.jsx",["144","145"],"import React, { Fragment } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {Link} from 'react-router-dom'\r\nimport { logout } from '../store/actions';\r\nimport Navbar from 'react-bootstrap/Navbar'\r\n\r\n\r\nimport Nav from 'react-bootstrap/Nav'\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\n\r\nexport default function NavBar()\r\n{\r\n\r\n\r\n     const {isAuthenticated,user}=useSelector(state=>state.auth)\r\n     const dispatch=useDispatch();\r\n     const handleLogout=()=>{\r\n\r\n         dispatch(logout())\r\n     }\r\n  return  (<Fragment  >\r\n <Navbar style={{backfaceVisibility:'20%'}} expand=\"lg\" >\r\n  <Navbar.Brand >Δημοσκοπήσειςcd</Navbar.Brand>\r\n  <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n\r\n    <Nav className=\"mr-auto\">\r\n\r\n      <Nav.Link href=\"/\">Home</Nav.Link>\r\n      {isAuthenticated&&<Nav.Link href='/poll/new'>New Poll</Nav.Link>}\r\n     {!isAuthenticated&&<Nav.Link href=\"/login\">Login</Nav.Link>\r\n      }\r\n\r\n      {!isAuthenticated&&<Nav.Link href=\"/register\">Register</Nav.Link>}\r\n      {isAuthenticated&&<Nav.Link onClick={()=>handleLogout()}>Logout</Nav.Link>}\r\n      \r\n\r\n    </Nav>\r\n</Navbar>\r\n</Fragment>);\r\n\r\n\r\n\r\n}\r\n\r\n","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\pages\\AuthPage.jsx",["146","147","148"],"import React,{useEffect} from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport Auth from '../components/Auth'\r\nimport ErrorMessage from '../components/ErrorMessage'\r\n\r\n\r\nfunction AuthPage({authType,isAuthenticated}){\r\n\r\n\r\n    console.log('authenticated: '+isAuthenticated)\r\n\r\n    if(isAuthenticated)return <Redirect to='/'/>\r\n\r\n    return (<div>\r\n      \r\n        <Auth authType={authType}/>\r\n\r\n    </div>)\r\n\r\n}\r\n\r\nexport default AuthPage","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\store\\actions\\polls.js",[],"C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\store\\reducers\\polls.js",[],"C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\pages\\TestPage.jsx",["149"],"import React from 'react'\r\nimport Auth from '../components/Auth'\r\nimport CreatePoll from '../components/CreatePoll'\r\nimport ErrorMessage from '../components/ErrorMessage'\r\nimport Poll from '../components/Poll'\r\nimport Polls from '../components/Polls'\r\nimport AuthPage from './AuthPage'\r\n\r\nfunction TestPage(){\r\n\r\n    return (\r\n    <div>\r\n        <h1>Ui test Page</h1>\r\n        <h2>Test Poll Page</h2>\r\n        <Poll/>\r\n        <h2>Test Polls </h2>\r\n        <Polls/>\r\n        <h2>Test Auth</h2>\r\n        <AuthPage/>\r\n        <h2>Test Create Poll</h2>\r\n        <CreatePoll/>\r\n        <h2>Test Error</h2>\r\n        <ErrorMessage/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport default TestPage","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\components\\Polls.jsx",["150","151","152","153","154","155","156","157","158","159","160","161","162"],"import React, { Fragment, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {getPolls,getCurrentPoll, setCurrentPoll, getUserPolls} from '../store/actions/polls'\r\nimport {Button,ListGroup} from 'react-bootstrap'\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport '../auth.css'\r\nfunction Polls(props){\r\n    const {isAuthenticated,user}=useSelector(state=>state.auth)\r\n    const polls=useSelector(state=>state.polls)\r\n  //  const currentPoll=useSelector(state=>state.currentPoll)\r\n    const dispatch=useDispatch();\r\n    const path=\"/poll/\" \r\n    const colors=[\"primary\",\r\n        \"secondary\",\r\n        \"success\",\r\n        \"danger\",\r\n        \"warning\",\r\n       \"info\",\r\n        \"light\",\r\n        \"dark\"]\r\n\r\n\r\n    useEffect(()=>{\r\n       \r\n        dispatch(getPolls())\r\n        \r\n        \r\n    },[])\r\n  function  handlSelect(id) {\r\n       const{history}=props;\r\n\r\n       history.push(`/poll/${id}`)\r\n   \r\n       \r\n    }\r\n    \r\n    const color=()=>{\r\n        return ('#'+Math.random().toString(16).slice(2,8))\r\n      }\r\n\r\n    return (<Fragment>\r\n        {isAuthenticated&&(\r\n            <div>\r\n                <button className='control' style={{margin:'20px'}}  onClick={()=>dispatch(getPolls())}>All polls</button>\r\n                <button className='control' style={{margin:'20px'}} onClick={()=>dispatch(getUserPolls())}> My polls</button>\r\n            </div>\r\n\r\n        )}\r\n\r\n<main>\r\n<ul class=\"tilesWrap\">\r\n        {\r\n            polls.map((poll)=>{\r\n\r\n               return <li \r\n               \r\n               style={\r\n                   { \"&::before\":\r\n                    {\r\n                        content: `''`,\r\n                background:color(),\r\n                background: `-webkit-linear-gradient(to right, ${color()}, #C9FFBF)`,\r\n                background: `linear-gradient(to right, ${color()},${color()})`\r\n            }\r\n        }\r\n    }\r\n               \r\n             ><h3>{poll.question}</h3>  \r\n               <button   onClick={()=>handlSelect(poll._id)}>Answer Poll</button>\r\n              </li>\r\n            \r\n            })\r\n\r\n        }\r\n</ul>\r\n\r\n    </main>\r\n    </Fragment>)\r\n}\r\n\r\nexport default Polls\r\n\r\n\r\n{/* <ul class=\"tilesWrap\">\r\n\t<li>\r\n\t\t<h2>01</h2>\r\n\t\t<h3>Title 1</h3>\r\n\t\t<p>\r\n\t\t\tLorem Ipsum is simply dummy text of the printing and typesetting   \r\n\t\t\tindustry. Lorem Ipsum has been the industry's standard dummy text ever \r\n\t\t\tsince the 1500s.\r\n\t\t</p>\r\n\t\t<button>Read more</button>\r\n\t</li>\r\n\t<li>\r\n\t\t<h2>02</h2>\r\n\t\t<h3>Title 2</h3>\r\n\t\t<p>\r\n\t\t\tWhen an unknown printer took a galley of type and scrambled it to make \r\n\t\t\ta type specimen book. It has survived not only five centuries.\r\n\t\t</p>\r\n\t\t<button>Read more</button>\r\n\t</li>\r\n\t<li>\r\n\t\t<h2>03</h2>\r\n\t\t<h3>Title 3</h3>\r\n\t\t<p>\r\n\t\t\tBut also the leap into electronic typesetting, remaining essentially \r\n\t\t\tunchanged. It was popularised in the 1960s.\r\n\t\t</p>\r\n\t\t<button>Read more</button>\r\n\t</li>\r\n\t<li>\r\n\t\t<h2>04</h2>\r\n\t\t<h3>Title 4</h3>\r\n\t\t<p>\r\n\t\t\tWith the release of Letraset sheets containing Lorem Ipsum passages,  \r\n\t\t\tand more recently with desktop publishing software like Aldus PageMaker \r\n\t\t\tincluding versions of Lorem Ipsum.\r\n\t\t</p>\r\n\t\t<button>Read more</button>\r\n\t</li>\r\n</ul> */}","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\components\\Poll.jsx",["163","164","165"],"import React, { Fragment } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {vote} from '../store/actions/polls' \r\nimport {Pie} from 'react-chartjs-2'\r\nimport { Redirect } from 'react-router-dom';\r\nimport '../index.css'\r\n\r\n  function Poll({isAuthenticated}){\r\n    const currentPoll=useSelector(state=>state.currentPoll)\r\n    const dispatch=useDispatch();\r\n\r\n    console.log(currentPoll)\r\n    const handleVote=(id,ans)=>{\r\n\r\n        dispatch(vote(id,ans))\r\n    }\r\nif(!isAuthenticated)return <Redirect to='/login'/>\r\n    const color=()=>{\r\n      return ('#'+Math.random().toString(16).slice(2,8))\r\n    }\r\n\r\n    const answers=currentPoll.options && currentPoll.options.map(option=>(\r\n        <li onClick={()=>handleVote(currentPoll._id,{answer:option.option})} key={option.id}>{option.option}</li>\r\n    ));\r\n\r\n   const data=currentPoll.options&&{\r\n      labels:currentPoll.options.map(option=>option.option),\r\n      datasets:[{\r\n        label:currentPoll.question,\r\n        backgroundColor:currentPoll.options.map(option=>color()),\r\n        borderColor:'#323643',\r\n        data:currentPoll.options.map(option=>option.votes)\r\n      }]\r\n    }\r\n    return(<div>\r\n   \r\n        <h3 style={{textAlign:'center'}} >{currentPoll.question}</h3>\r\n        <div id=\"pollContainer\">\r\n    <div id=\"pollButtons\"><ul>{answers}</ul>\r\n    </div>\r\n       \r\n      <Pie data={data}/>      \r\n        </div></div>)\r\n\r\n\r\n\r\n\r\n\r\n\r\n{/* <article className={`${animate.animated} ${animate.fadeIn} ${animate.faster} ${styles.poll}`} style={{ textAlign: customStyles.align, alignItems: this.alignPoll(customStyles.align) }}>\r\n        <h3 className={styles.question} style={{ borderWidth: customStyles.questionSeparator ? '1px' : '0', alignSelf: customStyles.questionSeparatorWidth === 'question' ? 'center' : 'stretch', fontWeight: customStyles.questionBold ? 'bold' : 'normal', color: customStyles.questionColor }}>{question}</h3>\r\n        <ul className={styles.answers}>\r\n          {answers.map(answer => (\r\n            <li key={answer.option}>\r\n              {!poll.voted ? (\r\n                <button className={`${animate.animated} ${animate.fadeIn} ${animate.faster} ${styles.option} ${styles[customStyles.theme]}`} style={{ color: colors[0], borderColor: colors[1] }} type='button' onClick={() => this.vote(answer.option)}>\r\n                  {answer.option}\r\n                </button>\r\n              ) : (\r\n                <div className={`${animate.animated} ${animate.fadeIn} ${animate.faster} ${styles.result}`} style={{ color: colors[0], borderColor: colors[1] }}>\r\n                  <div className={styles.fill} style={{ width: this.calculatePercent(answer.votes, totalVotes), backgroundColor: colors[2] }} />\r\n                  <div className={styles.labels}>\r\n                    <span className={styles.percent} style={{ color: colors[0] }}>{this.calculatePercent(answer.votes, totalVotes)}</span>\r\n                    <span className={`${styles.answer} ${answer.option === poll.option ? styles.vote : ''}`} style={{ color: colors[0] }}>{answer.option}</span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <p className={styles.votes}>{`${totalVotes} vote${totalVotes !== 1 ? 's' : ''}`}</p>\r\n      </article>\r\n */\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  export default Poll ","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\pages\\HomePage.jsx",["166"],"import React from 'react'\r\nimport ErrorMessage from '../components/ErrorMessage'\r\nimport Polls from '../components/Polls'\r\n\r\nfunction HomePage(props){\r\n\r\n    return(<div>\r\n    \r\n        <Polls {...props}/>\r\n\r\n    </div>)\r\n\r\n}\r\n\r\nexport default HomePage","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\pages\\PollPage.jsx",["167"],"import React from 'react'\r\nimport Poll from '../components/Poll'\r\n\r\nfunction PollPage({match,getPoll,poll,isAuthenticated}){\r\nconst host=window.location.href;\r\n//console.log(match)\r\ngetPoll(match.params.id)\r\nconsole.log(getPoll)\r\n\r\n    return(<div>\r\n    \r\n        <Poll isAuthenticated={isAuthenticated}/>\r\n\r\n    </div>) \r\n\r\n}\r\n\r\nexport default PollPage","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\pages\\CreatePollPage.jsx",["168"],"import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {Redirect} from 'react-router-dom'\r\nimport CreatePoll from '../components/CreatePoll'\r\nfunction CreatePollPage({isAuhenticated}){\r\n\r\n\r\nif(!isAuhenticated)return(<Redirect to='/login'/>)\r\n    else\r\n    return(<div>\r\n        <CreatePoll isAuhenticated={isAuhenticated}/>\r\n        \r\n    </div>)\r\n\r\n}\r\n\r\nexport default CreatePollPage","C:\\Users\\Afnan khan\\Desktop\\vote-app\\client\\src\\components\\CreatePoll.jsx",["169"],"import React, { useState,Fragment } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport {createPoll} from '../store/actions'\r\n\r\nfunction CreatePoll({isAuhenticated}){\r\n\r\n    const [{question,options},setNewPoll]=useState({question:'',options:['']})\r\n    const dispatch=useDispatch()\r\n    console.log(\"THE FUCK \"+isAuhenticated)\r\n\r\n   const handleChange=(e)=>{\r\n    const name=e.target.name;\r\n    console.log(name)\r\n    const value=e.target.value\r\n    console.log(value)\r\n    setNewPoll((currentPoll)=>{\r\n\r\n\r\n        return {question:value,options:options}\r\n    })\r\n\r\n   }\r\n\r\n   const handleAnswer=(e,i)=>{\r\n    const newOption=e.target.value;\r\n    \r\n    const newOptions=[...options];\r\n    newOptions[i]=newOption\r\n\r\n    setNewPoll((currentPoll)=>{\r\n\r\n        return {...currentPoll,options:newOptions}\r\n    })\r\n\r\n   }\r\n\r\n\r\n\r\n   const addAnswer=()=>{\r\n    setNewPoll((currentPoll)=>{\r\n\r\n\r\n        return {...currentPoll,options:[...currentPoll.options,'']}\r\n    })\r\n\r\n   }\r\n\r\n   const formattedOptions=options.map((option,i)=>{\r\n\r\n    return (<Fragment>\r\n      \r\n        <input className=\"form-input\" style={{width:'300px'}} placeholder={\"option \"+(i+1).toString()} type=\"text\" value={option} key={i} onChange={(e)=>handleAnswer(e,i)} required/>\r\n        \r\n    </Fragment>)\r\n   })\r\n\r\nif(!isAuhenticated)return(<Redirect to='/login'/>)\r\n    else{\r\n    return(\r\n        <div class=\"overlay\">\r\n\r\n    <form onSubmit={()=>dispatch(createPoll({question,options}))}>\r\n    <div className=\"con\">\r\n    <header className=\"head-form\">\r\n      <h2>Add Poll</h2>\r\n      <p style={{color:'#6b778d'}}>Add Poll and get public opinion</p>\r\n   </header>\r\n   <div className=\"field-set\">\r\n     \r\n      \r\n        <input placeholder=\"question\" className=\"form-input\" type=\"text\" name='question' style={{width:'300px'}} value={question} onChange={handleChange} required/>\r\n        <br/>\r\n        {formattedOptions}\r\n        <br/><br/>\r\n        <button className=\"log-in\" type='button' onClick={addAnswer}>Add Option</button>\r\n        <br/><br/>\r\n         <button  className=\"log-in\" type='submit' >Submit</button>\r\n           </div>\r\n</div>\r\n    </form>\r\n    </div>)\r\n    }\r\n}\r\n\r\nexport default CreatePoll",{"ruleId":"170","replacedBy":"171"},{"ruleId":"172","replacedBy":"173"},{"ruleId":"174","severity":1,"message":"175","line":20,"column":1,"nodeType":"176","endLine":20,"endColumn":35},{"ruleId":"174","severity":1,"message":"177","line":4,"column":1,"nodeType":"176","endLine":13,"endColumn":3},{"ruleId":"170","replacedBy":"178"},{"ruleId":"172","replacedBy":"179"},{"ruleId":"174","severity":1,"message":"177","line":8,"column":1,"nodeType":"176","endLine":24,"endColumn":2},{"ruleId":"180","severity":1,"message":"181","line":1,"column":15,"nodeType":"182","messageId":"183","endLine":1,"endColumn":23},{"ruleId":"180","severity":1,"message":"184","line":1,"column":25,"nodeType":"182","messageId":"183","endLine":1,"endColumn":34},{"ruleId":"180","severity":1,"message":"185","line":3,"column":19,"nodeType":"182","messageId":"183","endLine":3,"endColumn":30},{"ruleId":"180","severity":1,"message":"186","line":4,"column":8,"nodeType":"182","messageId":"183","endLine":4,"endColumn":11},{"ruleId":"180","severity":1,"message":"187","line":6,"column":20,"nodeType":"182","messageId":"183","endLine":6,"endColumn":34},{"ruleId":"180","severity":1,"message":"188","line":9,"column":8,"nodeType":"182","messageId":"183","endLine":9,"endColumn":12},{"ruleId":"180","severity":1,"message":"189","line":13,"column":10,"nodeType":"182","messageId":"183","endLine":13,"endColumn":20},{"ruleId":"180","severity":1,"message":"181","line":1,"column":15,"nodeType":"182","messageId":"183","endLine":1,"endColumn":23},{"ruleId":"180","severity":1,"message":"184","line":1,"column":25,"nodeType":"182","messageId":"183","endLine":1,"endColumn":34},{"ruleId":"180","severity":1,"message":"190","line":2,"column":23,"nodeType":"182","messageId":"183","endLine":2,"endColumn":34},{"ruleId":"180","severity":1,"message":"191","line":4,"column":9,"nodeType":"182","messageId":"183","endLine":4,"endColumn":13},{"ruleId":"180","severity":1,"message":"192","line":4,"column":14,"nodeType":"182","messageId":"183","endLine":4,"endColumn":20},{"ruleId":"180","severity":1,"message":"193","line":38,"column":11,"nodeType":"182","messageId":"183","endLine":38,"endColumn":20},{"ruleId":"194","severity":1,"message":"195","line":57,"column":47,"nodeType":"196","endLine":57,"endColumn":72},{"ruleId":"180","severity":1,"message":"197","line":3,"column":10,"nodeType":"182","messageId":"183","endLine":3,"endColumn":17},{"ruleId":"180","severity":1,"message":"198","line":3,"column":25,"nodeType":"182","messageId":"183","endLine":3,"endColumn":35},{"ruleId":"180","severity":1,"message":"189","line":9,"column":10,"nodeType":"182","messageId":"183","endLine":9,"endColumn":20},{"ruleId":"180","severity":1,"message":"199","line":3,"column":9,"nodeType":"182","messageId":"183","endLine":3,"endColumn":13},{"ruleId":"180","severity":1,"message":"200","line":17,"column":29,"nodeType":"182","messageId":"183","endLine":17,"endColumn":33},{"ruleId":"180","severity":1,"message":"184","line":1,"column":15,"nodeType":"182","messageId":"183","endLine":1,"endColumn":24},{"ruleId":"180","severity":1,"message":"190","line":2,"column":10,"nodeType":"182","messageId":"183","endLine":2,"endColumn":21},{"ruleId":"180","severity":1,"message":"201","line":5,"column":8,"nodeType":"182","messageId":"183","endLine":5,"endColumn":20},{"ruleId":"180","severity":1,"message":"188","line":2,"column":8,"nodeType":"182","messageId":"183","endLine":2,"endColumn":12},{"ruleId":"180","severity":1,"message":"187","line":3,"column":18,"nodeType":"182","messageId":"183","endLine":3,"endColumn":32},{"ruleId":"180","severity":1,"message":"202","line":3,"column":34,"nodeType":"182","messageId":"183","endLine":3,"endColumn":48},{"ruleId":"180","severity":1,"message":"192","line":4,"column":9,"nodeType":"182","messageId":"183","endLine":4,"endColumn":15},{"ruleId":"180","severity":1,"message":"203","line":4,"column":16,"nodeType":"182","messageId":"183","endLine":4,"endColumn":25},{"ruleId":"180","severity":1,"message":"199","line":5,"column":10,"nodeType":"182","messageId":"183","endLine":5,"endColumn":14},{"ruleId":"180","severity":1,"message":"204","line":5,"column":16,"nodeType":"182","messageId":"183","endLine":5,"endColumn":24},{"ruleId":"180","severity":1,"message":"200","line":8,"column":28,"nodeType":"182","messageId":"183","endLine":8,"endColumn":32},{"ruleId":"180","severity":1,"message":"205","line":12,"column":11,"nodeType":"182","messageId":"183","endLine":12,"endColumn":15},{"ruleId":"180","severity":1,"message":"206","line":13,"column":11,"nodeType":"182","messageId":"183","endLine":13,"endColumn":17},{"ruleId":"207","severity":1,"message":"208","line":28,"column":7,"nodeType":"209","endLine":28,"endColumn":9,"suggestions":"210"},{"ruleId":"211","severity":1,"message":"212","line":62,"column":17,"nodeType":"213","messageId":"214","endLine":62,"endColumn":27},{"ruleId":"211","severity":1,"message":"212","line":63,"column":17,"nodeType":"213","messageId":"214","endLine":63,"endColumn":27},{"ruleId":"215","severity":1,"message":"216","line":84,"column":1,"nodeType":"217","messageId":"218","endLine":123,"endColumn":10},{"ruleId":"180","severity":1,"message":"181","line":1,"column":17,"nodeType":"182","messageId":"183","endLine":1,"endColumn":25},{"ruleId":"215","severity":1,"message":"219","line":50,"column":1,"nodeType":"217","messageId":"220","endLine":74,"endColumn":2},{"ruleId":"221","severity":1,"message":"222","line":50,"column":1,"nodeType":"217","messageId":"223","endLine":74,"endColumn":2},{"ruleId":"180","severity":1,"message":"201","line":2,"column":8,"nodeType":"182","messageId":"183","endLine":2,"endColumn":20},{"ruleId":"180","severity":1,"message":"224","line":5,"column":7,"nodeType":"182","messageId":"183","endLine":5,"endColumn":11},{"ruleId":"180","severity":1,"message":"190","line":2,"column":10,"nodeType":"182","messageId":"183","endLine":2,"endColumn":21},{"ruleId":"180","severity":1,"message":"190","line":2,"column":23,"nodeType":"182","messageId":"183","endLine":2,"endColumn":34},"no-native-reassign",["225"],"no-negated-in-lhs",["226"],"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","Assign arrow function to a variable before exporting as module default",["225"],["226"],"no-unused-vars","'Fragment' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'useDispatch' is defined but never used.","'api' is defined but never used.","'getCurrentPoll' is defined but never used.","'Auth' is defined but never used.","'useHistory' is defined but never used.","'useSelector' is defined but never used.","'Form' is defined but never used.","'Button' is defined but never used.","'formStyle' is assigned a value but never used.","react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","'connect' is defined but never used.","'withRouter' is defined but never used.","'Link' is defined but never used.","'user' is assigned a value but never used.","'ErrorMessage' is defined but never used.","'setCurrentPoll' is defined but never used.","'ListGroup' is defined but never used.","'Redirect' is defined but never used.","'path' is assigned a value but never used.","'colors' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["227"],"no-dupe-keys","Duplicate key 'background'.","ObjectExpression","unexpected","no-lone-blocks","Block is redundant.","BlockStatement","redundantBlock","Nested block is redundant.","redundantNestedBlock","no-unreachable","Unreachable code.","unreachableCode","'host' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"228","fix":"229"},"Update the dependencies array to be: [dispatch]",{"range":"230","text":"231"},[842,844],"[dispatch]"]